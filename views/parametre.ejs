<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=a, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="menu">
        <button class="btnconnect" onclick="window.location.href='/connexion'">
            Connexion
        </button>
        
        <button class="btnvalidation" onclick="window.location.href='/validation'">
            Validation des missions
        </button>
        <button class="btnpaiement" onclick="window.location.href='/paiement'">
            Paiement des frais
        </button>
        <button class="btnparametre" onclick="window.location.href='/parametre'">
            Paramétrage
        </button>
</div>
    <div>
    <form action="" method="post">
        <div class="rbtKm">
            <label for="rbtKm">Remboursement par kilometre
                <input type="text" name="rbtKm" id="rbtKm">
            </label>
        </div>
        <div class="rbtJour">
            <label for="rbtJour">Remboursement par Jour en déplacement
                <input type="text" name="rbtJour" id="rbtJour">
            </label>
        </div>

        <button type="submit">Modifier les parametres</button>
    </form>
    </div>
    <div>
        <button onclick="populateSelect()"> erfer</button>
    <form action="/parametre" method="post">
        <div class="distanceA">
            
            
            <label for="dstA">Ville A 
                <select class="select2" id="sel" onchange="show(this)">
                <option value="">-- Select --</option>
            </select>
            </label>
        </div>
        <div class="distanceB">
            <label for="dstB">Ville B 
                <input type="text" name="dstB" id="dstB">
            </label>
        </div>
        <div class="distanceKm">
            <label for="dstKm">Distance entre les deux villes
                <input type="text" name="dstKm" id="dstKm">
            </label>
        </div>

        <button type="submit">Ajouter une nouvelle distance</button>
    </form>
    </div>
    <div>
        <table class="table table-striped table-bordered" style="width:100%">
            <thead>
                <tr>
                    <th scope="col">Action</th>
                    <th scope="col">Ville A </th>
                    <th scope="col">Ville B</th>
                    <th scope="col">Distance entre les deux villes</th>
                    
                </tr>
            </thead>
            <tbody>
                <% console.log(contenu) %>
                <% contenu.forEach(function(mission){ %>
                
                    <tr>
                        <td>
                            <ul class="list-inline m-0">
                                <li class="list-inline-item">
                                    <button class="btn btn-primary btn-sm rounded-0" type="button"
                                        data-toggle="modal" data-target="#detail_<%= mission.mi_id %>"
                                        title="Détails"><i class="fa fa-eye"></i></button>
                                </li>
                                <li class="list-inline-item">
                                    <button class="btn btn-success btn-sm rounded-0" type="button"
                                        title="Modifier"
                                        onclick="location.href = '/sautheuhz/fiche_client/<%= mission.mi_id %>';"><i
                                            class="fa fa-edit"></i></button>
                                </li>
                                <li class="list-inline-item">
                                    <button class="btn btn-danger btn-sm rounded-0" type="button"
                                        data-toggle="modal"
                                        data-target="#supprimer_<%= mission.mi_idsalarie %>"
                                        title="Supprimer"><i class="fa fa-trash"></i></button>
                                    </form>
                                </li>
                            </ul>
                        </td>
                        <td>
                            <%= mission.sa_nom %> <%= mission.sa_prenom %> 
    
                        </td>
    
                        <td>
                            <%= mission.mi_dateDebut %>
                        </td>
                        <td class="dispTel">
                            <%= mission.mi_dateFin %>
                        </td>
                       
                    </tr>
                    <% })%>
            </tbody>
        </table>
    </div>
    <script>
        function populateSelect() {
        // THE JSON ARRAY.
        var birds = [
            {
                "ID": "001",
                "Bird_Name": "Eurasian Collared-Dove"
            },
            {
                "ID": "002",
                "Bird_Name": "Bald Eagle"
            },
            {
                "ID": "003",
                "Bird_Name": "Cooper's Hawk"
            },
        ];

        var ele = document.getElementById('sel');
        for (var i = 0; i < birds.length; i++) {
            // POPULATE SELECT ELEMENT WITH JSON.
            ele.innerHTML = ele.innerHTML +
                '<option value="' + birds[i]['ID'] + '">' + birds[i]['Bird_Name'] + '</option>';
        }
    }

    function show(ele) {
        // GET THE SELECTED VALUE FROM <select> ELEMENT AND SHOW IT.
        var msg = document.getElementById('msg');
        msg.innerHTML = 'Selected Bird: <b>' + ele.options[ele.selectedIndex].text + '</b> </br>' +
            'ID: <b>' + ele.value + '</b>';
    }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="/js/script.js"></script>
</body>

</html>